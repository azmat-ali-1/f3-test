<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <nav id="topBar">
        <div><h2>MeShop.</h2></div>
        <div id="left">
         <a href="">Home</a>
         <a href="./logInPage.html" >Login</a>
         <a href="./signUp.html" >Signup</a>
         <a href="">MyCart</a>
         <a href="">Profile</a>
        </div>
      </nav>
      <div id="container2">
        <form id="form">
            <h2>Login</h2>
            <input type="email" placeholder="Email">
            <input type="password" placeholder="Password">
            <button type="submit">Login</button>
        </form>
      </div>
      <div id="status"></div>
      <script>
        let user  = localStorage.getItem("user");
        document.getElementById("form").addEventListener("submit",(event)=>{
          event.preventDefault();
          let user  = localStorage.getItem("user");
          if(user==null){
            let div = document.getElementById("status");
            div.innerHTML=`<p>Please SignIn ...!</p>`
            div.style.color="red";
            setTimeout(()=>{
              let div = document.getElementById("status");
                div.innerHTML=``;
            },3000);
          }
          else{
            user  = JSON.parse(user);
            let form = document.getElementById("form");
            let email = form[0].value;
            let password = form[1].value;
            console.log(email,password);
            user.map((Element)=>{
            
              if(email==Element.email&&password==Element.password){
                localStorage.setItem("customer",Element.id);
                let div = document.getElementById("status");
            div.innerHTML=`<p>Wrong Password ...!</p>`
            div.style.color="green";
            window.open("./profile/index.html");
              }
            
              else if(email==Element.email){
                let div = document.getElementById("status");
            div.innerHTML=`<p>Wrong Password ...!</p>`
            div.style.color="red";
            setTimeout(()=>{
              let div = document.getElementById("status");
                div.innerHTML=``;
            },3000);
              }
            });
          }
        });
      </script>
</body>
</html>